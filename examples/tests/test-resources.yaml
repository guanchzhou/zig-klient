---
apiVersion: v1
kind: Namespace
metadata:
  name: klient-test
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: test-deployment
  namespace: klient-test
spec:
  replicas: 1
  selector:
    matchLabels:
      app: test
  template:
    metadata:
      labels:
        app: test
    spec:
      containers:
      - name: nginx
        image: nginx:alpine
        ports:
        - containerPort: 80
---
apiVersion: v1
kind: Service
metadata:
  name: test-service
  namespace: klient-test
spec:
  selector:
    app: test
  ports:
  - protocol: TCP
    port: 80
    targetPort: 80
  type: ClusterIP
---
apiVersion: v1
kind: Secret
metadata:
  name: test-secret
  namespace: klient-test
type: Opaque
stringData:
  username: testuser
  password: testpass
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: test-configmap
  namespace: klient-test
data:
  config.yaml: |
    test: value
---
apiVersion: apps/v1
kind: DaemonSet
metadata:
  name: test-daemonset
  namespace: klient-test
spec:
  selector:
    matchLabels:
      app: test-daemon
  template:
    metadata:
      labels:
        app: test-daemon
    spec:
      containers:
      - name: busybox
        image: busybox:latest
        command: ["sh", "-c", "while true; do sleep 3600; done"]
---
apiVersion: batch/v1
kind: Job
metadata:
  name: test-job
  namespace: klient-test
spec:
  template:
    spec:
      containers:
      - name: busybox
        image: busybox:latest
        command: ["echo", "Hello from test job"]
      restartPolicy: Never
  backoffLimit: 1
---
apiVersion: batch/v1
kind: CronJob
metadata:
  name: test-cronjob
  namespace: klient-test
spec:
  schedule: "0 0 * * *"
  jobTemplate:
    spec:
      template:
        spec:
          containers:
          - name: busybox
            image: busybox:latest
            command: ["echo", "Hello from cron job"]
          restartPolicy: Never
---
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: test-statefulset
  namespace: klient-test
spec:
  serviceName: test-statefulset
  replicas: 1
  selector:
    matchLabels:
      app: test-sts
  template:
    metadata:
      labels:
        app: test-sts
    spec:
      containers:
      - name: nginx
        image: nginx:alpine
